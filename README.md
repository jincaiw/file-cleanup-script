# 文件清理自动化脚本

这是一个批处理脚本，用于自动清理指定文件夹内的文件，同时保留文件夹结构。脚本会生成详细的日志记录每次操作。

## 功能

*   **定时清理**：可以配合任务计划程序实现定时自动清理。
*   **保留结构**：仅删除文件，目标文件夹的目录结构会完整保留。
*   **日志记录**：每次清理操作都会生成带时间戳的日志文件，记录成功和失败的文件操作。
*   **日志保留**：可以配置日志文件的保留天数，自动删除过期的日志。

## 如何使用

1.  **配置脚本**：
    打开 `file_cleanup.bat` 文件，修改以下配置项：
    *   `target_folder`: 设置需要清理的目标文件夹路径。 **请务必修改此项为您需要清理的实际路径！**
    *   `log_folder`: 设置日志文件的存放目录。默认为脚本所在目录下的 `logs` 文件夹。
    *   `log_retention`: 设置日志文件的保留天数。默认为 30 天。

2.  **运行脚本**：
    直接双击运行 `file_cleanup.bat` 文件即可。
    也可以通过命令行运行： `file_cleanup.bat`

3.  **查看日志**：
    清理操作的日志会存放在您配置的 `log_folder` 目录中，日志文件名格式为 `YYYY-MM-DD_HH-MM-SS.log`。

## 注意事项

*   请谨慎配置 `target_folder`，确保指定的路径是您希望清理的文件夹，以免误删重要文件。
*   脚本默认会立即删除文件，请在测试环境中充分测试后再用于生产环境。
*   如果目标文件夹或其子文件夹中的文件被其他程序占用，可能会导致删除失败。日志中会记录此类失败信息。

## 版本

*   v0.1